(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(28),i=n.n(a),s=(n(114),n(91)),o=n(17),j=n(14),u=n(26),l=n.n(u),d=n(39),h=n(12),b=n(177),x=n(178),f=n(174),O=n(179),p=n(180),v=n(181),m=n(182),k=n(183),y=n(170),_=n(184),w=n(88),g=n.n(w),C=n(89),S=n.n(C),T=n(90),E=n.n(T),L=n(2),U=function(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],a=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/urls/");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){a()}),[]);var i=function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.find((function(e){return e.id===t}))).active=!r.active,e.next=4,fetch("/api/urls/".concat(t,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:return e.next=6,a();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/urls/".concat(t,"/"),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 2:return e.next=4,a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(d.a)(l.a.mark((function e(t){var r,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.find((function(e){return e.id===t})),a=n.findIndex((function(e){return e.id===t})),5!==r.number_of_clicks&&r.active&&(r.number_of_clicks=r.number_of_clicks+1),5===r.number_of_clicks&&(r.active=!1),(i=Object(j.a)(n))[a]=r,c(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)("div",{children:[Object(L.jsx)(b.a,{variant:"h6",sx:{mb:2},children:"Shortened urls list:"}),Object(L.jsx)(x.a,{component:f.a,children:Object(L.jsxs)(O.a,{children:[Object(L.jsx)(p.a,{children:Object(L.jsxs)(v.a,{children:[Object(L.jsx)(m.a,{children:"URL"}),Object(L.jsx)(m.a,{children:"Shortened URL"}),Object(L.jsx)(m.a,{children:"Active"}),Object(L.jsx)(m.a,{children:"Number of clicks"}),Object(L.jsx)(m.a,{children:"Change status"}),Object(L.jsx)(m.a,{children:"Delete"})]})}),Object(L.jsx)(k.a,{children:n.map((function(e){return Object(L.jsxs)(v.a,{children:[Object(L.jsx)(m.a,{component:"th",scope:"row",children:Object(L.jsx)("a",{href:e.value,target:"_blank",rel:"noopener noreferrer",children:e.value})}),Object(L.jsx)(m.a,{children:Object(L.jsx)("a",{href:e.shortened_value,target:"_blank",rel:"noopener noreferrer",onClick:function(){return o(e.id)},children:e.shortened_value})}),Object(L.jsx)(m.a,{children:e.active?"Active":"Not active"}),Object(L.jsx)(m.a,{children:e.number_of_clicks}),Object(L.jsx)(m.a,{children:e.active?Object(L.jsx)(y.a,{title:"Deactivate link",children:Object(L.jsx)(_.a,{onClick:function(){return i(e.id)},children:Object(L.jsx)(g.a,{})})}):Object(L.jsx)(y.a,{title:"Activate link",children:Object(L.jsx)(_.a,{onClick:function(){return i(e.id)},children:Object(L.jsx)(S.a,{})})})}),Object(L.jsx)(m.a,{children:Object(L.jsx)(y.a,{title:"Delete link",children:Object(L.jsx)(_.a,{onClick:function(){return s(e.id)},children:Object(L.jsx)(E.a,{})})})})]},e.id)}))})]})})]})},N=n(176),R=n(72),A=n(185),D=n(171),J=n(175),G=function(){var e=Object(r.useState)(),t=Object(h.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),i=Object(h.a)(a,2),s=i[0],o=i[1],j=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/urls/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,o(r.shortened_value);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsxs)("div",{children:[Object(L.jsxs)(A.a,{component:"form",noValidate:!0,autoComplete:"off",children:[Object(L.jsx)(b.a,{variant:"h6",sx:{mb:2},children:"Enter the URL you want to shorten"}),Object(L.jsx)(D.a,{id:"outlined-basic",label:"Enter URL here",variant:"outlined",value:null===n||void 0===n?void 0:n.body,onChange:function(e){var t;t=e.target.value,c((function(e){return Object(R.a)(Object(R.a)({},e),{},{body:t})}))},sx:{mb:2}})]}),Object(L.jsx)(J.a,{variant:"contained",color:"primary",onClick:j,children:"Submit"}),s&&Object(L.jsxs)(A.a,{sx:{mt:4},children:[Object(L.jsx)(b.a,{variant:"h6",sx:{mb:2},children:"Shortened url:"}),Object(L.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:s})]})]})},I=function(){return Object(L.jsxs)("div",{children:[Object(L.jsx)(b.a,{variant:"h6",sx:{mb:2},children:"The shortened URL you tried to access is no longer active."}),Object(L.jsx)(b.a,{sx:{mb:3},children:"To activate it, visit the administrator page."}),Object(L.jsx)("a",{href:"http://127.0.0.1:8000/#/administrator",children:Object(L.jsx)(b.a,{children:"Go to administrator page"})}),Object(L.jsx)("a",{href:"http://127.0.0.1:8000/#/",children:Object(L.jsx)(b.a,{children:"Go to main page"})})]})},P=function(){return Object(L.jsx)(N.a,{container:!0,justifyContent:"center",sx:{mt:10},children:Object(L.jsx)("div",{className:"App",children:Object(L.jsxs)(s.a,{children:[Object(L.jsx)(o.a,{path:"/",exact:!0,component:G}),Object(L.jsx)(o.a,{path:"/administrator/",exact:!0,component:U}),Object(L.jsx)(o.a,{path:"/url-not-active/",exact:!0,component:I})]})})})};i.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(P,{})}),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.6270d247.chunk.js.map