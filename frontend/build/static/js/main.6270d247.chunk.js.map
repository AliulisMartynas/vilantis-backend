{"version":3,"sources":["pages/AdministratorPage.js","pages/MainPage.js","pages/UrlNotActivePage.js","App.js","index.js"],"names":["AdministratorPage","useState","urls","setUrls","getUrls","a","fetch","fetchedUrls","json","data","useEffect","changeLinkStatus","id","url","find","active","method","headers","body","JSON","stringify","deleteLink","updateNumberOfClicks","urlIndex","findIndex","number_of_clicks","newArr","Typography","variant","sx","mb","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","TableBody","map","scope","href","value","target","rel","shortened_value","onClick","Tooltip","title","IconButton","MainPage","setUrl","shortenedUrl","setShortenedUrl","submitLink","shortenedLink","Box","noValidate","autoComplete","TextField","label","onChange","e","Button","color","mt","UrlNotActivePage","App","Grid","container","justifyContent","className","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6270d247.chunk.js","sourcesContent":["import {\r\n  IconButton,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\n\r\nimport BlockIcon from \"@mui/icons-material/Block\";\r\nimport CheckCircleOutlineIcon from \"@mui/icons-material/CheckCircleOutline\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nconst AdministratorPage = () => {\r\n  const [urls, setUrls] = useState([]);\r\n\r\n  const getUrls = async () => {\r\n    const fetchedUrls = await fetch(\"/api/urls/\");\r\n    const data = await fetchedUrls.json();\r\n    setUrls(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUrls();\r\n  }, []);\r\n\r\n  const changeLinkStatus = async (id) => {\r\n    let url = urls.find((url) => url.id === id);\r\n    url.active = !url.active;\r\n\r\n    await fetch(`/api/urls/${id}/`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(url),\r\n    });\r\n\r\n    await getUrls();\r\n  };\r\n\r\n  const deleteLink = async (id) => {\r\n    await fetch(`/api/urls/${id}/`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    await getUrls();\r\n  };\r\n\r\n  const updateNumberOfClicks = async (id) => {\r\n    let url = urls.find((url) => url.id === id);\r\n    let urlIndex = urls.findIndex((url) => url.id === id);\r\n\r\n    if (url.number_of_clicks !== 5 && url.active) {\r\n      url.number_of_clicks = url.number_of_clicks + 1;\r\n    }\r\n\r\n    if (url.number_of_clicks === 5) {\r\n      url.active = false;\r\n    }\r\n\r\n    let newArr = [...urls];\r\n    newArr[urlIndex] = url;\r\n    setUrls(newArr);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h6\" sx={{ mb: 2 }}>\r\n        Shortened urls list:\r\n      </Typography>\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>URL</TableCell>\r\n              <TableCell>Shortened URL</TableCell>\r\n              <TableCell>Active</TableCell>\r\n              <TableCell>Number of clicks</TableCell>\r\n              <TableCell>Change status</TableCell>\r\n              <TableCell>Delete</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {urls.map((url) => (\r\n              <TableRow key={url.id}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  <a href={url.value} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    {url.value}\r\n                  </a>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <a\r\n                    href={url.shortened_value}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    onClick={() => updateNumberOfClicks(url.id)}\r\n                  >\r\n                    {url.shortened_value}\r\n                  </a>\r\n                </TableCell>\r\n                <TableCell>{url.active ? \"Active\" : \"Not active\"}</TableCell>\r\n                <TableCell>{url.number_of_clicks}</TableCell>\r\n                <TableCell>\r\n                  {url.active ? (\r\n                    <Tooltip title=\"Deactivate link\">\r\n                      <IconButton onClick={() => changeLinkStatus(url.id)}>\r\n                        <BlockIcon />\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                  ) : (\r\n                    <Tooltip title=\"Activate link\">\r\n                      <IconButton onClick={() => changeLinkStatus(url.id)}>\r\n                        <CheckCircleOutlineIcon />\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                  )}\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Tooltip title=\"Delete link\">\r\n                    <IconButton onClick={() => deleteLink(url.id)}>\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdministratorPage;\r\n","import { Box, Button, TextField, Typography } from \"@mui/material\";\r\n\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nconst MainPage = () => {\r\n  const [url, setUrl] = useState();\r\n  const [shortenedUrl, setShortenedUrl] = useState(\"\");\r\n\r\n  const handleChange = (value) => {\r\n    setUrl((url) => ({ ...url, body: value }));\r\n  };\r\n\r\n  const submitLink = async () => {\r\n    const shortenedLink = await fetch(`/api/urls/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(url),\r\n    });\r\n\r\n    const data = await shortenedLink.json();\r\n    setShortenedUrl(data.shortened_value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Box component=\"form\" noValidate autoComplete=\"off\">\r\n        <Typography variant=\"h6\" sx={{ mb: 2 }}>\r\n          Enter the URL you want to shorten\r\n        </Typography>\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"Enter URL here\"\r\n          variant=\"outlined\"\r\n          value={url?.body}\r\n          onChange={(e) => {\r\n            handleChange(e.target.value);\r\n          }}\r\n          sx={{ mb: 2 }}\r\n        />\r\n      </Box>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={submitLink}>\r\n        Submit\r\n      </Button>\r\n      {shortenedUrl && (\r\n        <Box sx={{ mt: 4 }}>\r\n          <Typography variant=\"h6\" sx={{ mb: 2 }}>\r\n            Shortened url:\r\n          </Typography>\r\n          <a href={shortenedUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            {shortenedUrl}\r\n          </a>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst UrlNotActivePage = () => {\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h6\" sx={{ mb: 2 }}>\r\n        The shortened URL you tried to access is no longer active.\r\n      </Typography>\r\n      <Typography sx={{ mb: 3 }}>\r\n        To activate it, visit the administrator page.\r\n      </Typography>\r\n      <a href=\"http://127.0.0.1:8000/#/administrator\">\r\n        <Typography>Go to administrator page</Typography>\r\n      </a>\r\n      <a href=\"http://127.0.0.1:8000/#/\">\r\n        <Typography>Go to main page</Typography>\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UrlNotActivePage;\r\n","import \"./App.css\";\r\n\r\nimport { Route, HashRouter as Router } from \"react-router-dom\";\r\n\r\nimport AdministratorPage from \"./pages/AdministratorPage\";\r\nimport { Grid } from \"@mui/material\";\r\nimport MainPage from \"./pages/MainPage\";\r\nimport UrlNotActivePage from \"./pages/UrlNotActivePage\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <Grid container justifyContent=\"center\" sx={{ mt: 10 }}>\r\n      <div className=\"App\">\r\n        <Router>\r\n          <Route path=\"/\" exact component={MainPage} />\r\n          <Route path=\"/administrator/\" exact component={AdministratorPage} />\r\n          <Route path=\"/url-not-active/\" exact component={UrlNotActivePage} />\r\n        </Router>\r\n      </div>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}